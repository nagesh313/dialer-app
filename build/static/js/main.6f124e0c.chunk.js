(this["webpackJsonpdialer-app"]=this["webpackJsonpdialer-app"]||[]).push([[0],{179:function(e,t,a){},186:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=(a(179),a(11)),o=(a(180),a(23)),l=a(106),d=(a(186),a(20)),j=a(25),b=a(361),u=a(357),p=a(370),h=a(369),m=a(371),g=a(381),O=a(366),x=a(360),f=a(367),w=a(372),v=a(373),S=a(348),y=a(380),k=a(22),C=a(368),I=a(73),T=a(153),N=a.n(T),A=a(152),B=a.n(A),D=a(151),E=a.n(D),F=a(4),P=a(16),R="USER_LOGIN",U="SNACKBAR",_="THEME",q=function(e){return{type:U,snackbar:e.snackbar}},L=a(149),Q=a.n(L),z=a(363),W=a(293),H=a(364),M=a(378),X=a(382),G=a(351),V=a(353),J=a(354),K=a(355),Y=a(356),Z=a(2),$=Object(S.a)((function(e){return Object(y.a)({root:{display:"flex"},formControl:{margin:e.spacing(3)}})}));function ee(e){var t,a,n,r,c,i,s,o=$();return Object(Z.jsx)("div",{className:o.root,children:Object(Z.jsx)(G.a,{component:W.a,children:Object(Z.jsx)(V.a,{size:"small","aria-label":"a dense table",children:Object(Z.jsxs)(J.a,{children:[Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Campign Id"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(t=e.campaignData)||void 0===t?void 0:t.campaignID})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Campign Name"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(a=e.campaignData)||void 0===a?void 0:a.campaignName})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Target Env"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(n=e.campaignData)||void 0===n?void 0:n.targetEnv})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Client ID"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(r=e.campaignData)||void 0===r?void 0:r.clientID})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Contact Flow ID"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(c=e.campaignData)||void 0===c?void 0:c.contactFlowID})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Primary Queue"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(i=e.campaignData)||void 0===i?void 0:i.primaryQueue})]}),Object(Z.jsxs)(K.a,{children:[Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:"Wait Queue"}),Object(Z.jsx)(Y.a,{component:"th",scope:"row",children:null===(s=e.campaignData)||void 0===s?void 0:s.waitQueue})]})]})})})})}var te=a(358),ae=a(362),ne=a(110),re=a(72);var ce=Object(o.b)((function(e){return Object(d.a)({},e.snackbar)}),{setSnackBar:q})((function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=re.a().shape({campaignName:re.b().required("Required"),targetEnv:re.b().required("Required"),clientID:re.b().required("Required")}),p=function(t){c(!0);var a=new Headers;a.set("X-Requested-With","XMLHttpRequest"),a.set("Content-Type","application/json"),a.set("Authorization","Basic "+btoa(sessionStorage.getItem("username")+":"+sessionStorage.getItem("password"))),fetch("/campaign/create",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:a,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw l()})).then((function(a){var n;c(!1),e.setSnackBar({snackbar:{message:"Campaign Creation Successful",open:!0}}),e.handleCreateNewCampaignSuccess(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.campaign_id,t)})).catch((function(){e.setSnackBar({snackbar:{message:"Operation failed!",open:!0,severity:"error"}}),c(!1),d(!0)}))};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(ne.b,{validationSchema:j,initialValues:{campaignName:"Test Campaign",targetEnv:"aws",clientID:"leadgen",contactFlowID:"",primaryQueue:"",waitQueue:""},onSubmit:function(e){return function(e){p(e)}(e)},children:function(e){var t=e.errors,a=(e.handleBlur,e.handleChange),r=e.handleSubmit,c=(e.isSubmitting,e.touched),i=e.values,s=(e.setFieldValue,e.submitCount,e.isValid);return Object(Z.jsxs)(ne.a,{noValidate:!0,onSubmit:r,children:[Object(Z.jsxs)(u.a,{container:!0,justify:"center",style:{padding:"20px"},children:[Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.campaignName,label:"Campaign Name",name:"campaignName",error:Boolean(c.campaignName&&t.campaignName)})}),Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.targetEnv,label:"Target Env",name:"targetEnv",error:Boolean(c.targetEnv&&t.targetEnv)})}),Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.clientID,label:"Client ID",name:"clientID",error:Boolean(c.clientID&&t.clientID)})}),Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.contactFlowID,label:"Contact Flow ID",name:"contactFlowID",error:Boolean(c.contactFlowID&&t.contactFlowID)})}),Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.primaryQueue,label:"Primary Queue",name:"primaryQueue",error:Boolean(c.primaryQueue&&t.primaryQueue)})}),Object(Z.jsx)(u.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(Z.jsx)(te.a,{disabled:n,onChange:a,value:i.waitQueue,label:"Wait Queue",name:"waitQueue",error:Boolean(c.waitQueue&&t.waitQueue)})})]}),Object(Z.jsx)(u.a,{container:!0,justify:"center",children:Object(Z.jsx)(b.a,{color:"primary",disabled:!s||n,type:"submit",variant:"contained",children:n?Object(Z.jsx)(ae.a,{color:"secondary",size:24}):"Submit"})})]})}})})})),ie=a(145),se=a.n(ie);var oe=Object(o.b)((function(e){return Object(d.a)({},e.snackbar)}),{setSnackBar:q})((function(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),o=Object(s.a)(i,2),l=(o[0],o[1]),d=function(t){if(t[0].size/1024/1024>4)e.setSnackBar({snackbar:{message:"File size greater than 4MB",open:!0,severity:"error"}});else{var a=new FileReader;a.onload=function(t){!function(t){c(!0);for(var a=t.split("\n"),n=[],r=(a[0].split(","),1);r<a.length;r++){var i=a[r].split(",");n.push({name:i[0],phone_number:i[1]})}var s={multiplier:1,waitTime:60,data:n},o="/campaign/"+e.campaignID+"/list/upload",d=new Headers;d.set("X-Requested-With","XMLHttpRequest"),d.set("Content-Type","application/json"),d.set("Authorization","Basic "+btoa(sessionStorage.getItem("username")+":"+sessionStorage.getItem("password"))),fetch(o,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:d,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(s)}).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(t){e.setSnackBar({snackbar:{message:t.response,open:!0}}),c(!1),l(!1),e.handleFileUploadSuccess()})).catch((function(){e.setSnackBar({snackbar:{message:"Failed to Upload",open:!0,severity:"error"}}),c(!1),l(!0)}))}(a.result)},a.readAsText(t[0])}};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(u.a,{container:!0,spacing:3,justify:"center",style:{padding:"20px"},children:Object(Z.jsx)(se.a,{handleFiles:function(e){return d(e)},fileTypes:".csv",children:Object(Z.jsx)(b.a,{variant:"contained",color:"primary",disabled:n,style:{marginBottom:"10px"},children:n?Object(Z.jsx)(ae.a,{color:"secondary",size:24}):"Upload List"})})})})}));var le=Object(o.b)((function(e){return Object(d.a)({},e.snackbar)}),{setSnackBar:q})((function(){var e=r.a.useState(0),t=Object(s.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),i=Object(s.a)(c,2),o=i[0],l=i[1],d=r.a.useState(""),j=Object(s.a)(d,2),u=j[0],p=j[1],h=["Select Campaign Name","List Upload","Ad Summary"],m=function(e,t){l(e),p(t),O()},g=function(){O()},O=function(){n((function(e){return e+1}))};return Object(Z.jsx)(z.a,{children:Object(Z.jsxs)(W.a,{style:{padding:"10px"},children:[Object(Z.jsx)(X.a,{activeStep:a,alternativeLabel:!0,children:h.map((function(e){return Object(Z.jsx)(H.a,{children:Object(Z.jsx)(M.a,{children:e})},e)}))}),Object(Z.jsx)(Z.Fragment,{children:a===h.length?Object(Z.jsxs)("div",{children:[Object(Z.jsx)(I.a,{children:"All steps completed"}),Object(Z.jsx)(b.a,{onClick:function(){n(0)},children:"Reset"})]}):Object(Z.jsx)(Z.Fragment,{children:function(e){switch(e){case 0:return Object(Z.jsx)(ce,{handleCreateNewCampaignSuccess:m});case 1:return Object(Z.jsx)(oe,{campaignID:o,handleFileUploadSuccess:g});case 2:return Object(Z.jsx)(ee,{campaignID:o,campaignData:u});default:return"Unknown stepIndex"}}(a)})})]})})})),de=a(150),je=a.n(de),be=a(365),ue=a(377),pe=a(146),he=a.n(pe),me=a(147),ge=a.n(me),Oe=a(148),xe=a.n(Oe),fe=a(383);var we=[{id:"campaign_id",label:"CAMPAIGN ID",align:"left"},{id:"campaign_name",label:"CAMPAIGN NAME",align:"center"},{id:"flow_id",label:"FLOW ID",align:"center"},{id:"primary_queue",label:"PRIMARY QUEUE",align:"center"},{id:"status",label:"STATUS",align:"center"},{id:"target_env",label:"TARGET ENV",align:"center"},{id:"updated_at",label:"UPDATED AT",align:"center"},{id:"wait_queue",label:"WAIT QUEUE",align:"center"}];function ve(e){e.classes,e.numSelected,e.rowCount;return Object(Z.jsx)(be.a,{children:Object(Z.jsxs)(K.a,{children:[we.map((function(e){return Object(Z.jsx)(Y.a,{align:e.align,style:{fontWeight:"bold"},children:e.label},e.id)})),Object(Z.jsx)(Y.a,{align:"center",style:{fontWeight:"bold"},children:"Actions"})]})})}var Se,ye=Object(S.a)((function(e){return Object(y.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));!function(e){e.STATUS="STATUS",e.START="START",e.PAUSE="PAUSE",e.STOP="STOP"}(Se||(Se={}));var ke=Object(o.b)((function(e){return Object(d.a)({},e.snackbar)}),{setSnackBar:q})((function(e){var t=ye(),a=r.a.useState([]),c=Object(s.a)(a,2),i=c[0],o=(c[1],r.a.useState(0)),l=Object(s.a)(o,2),d=l[0],j=l[1],b=r.a.useState(!0),u=Object(s.a)(b,2),p=u[0],h=u[1],m=r.a.useState(5),g=Object(s.a)(m,2),x=g[0],f=g[1],w=r.a.useState([]),v=Object(s.a)(w,2),S=v[0],y=v[1];Object(n.useEffect)((function(){var e=new Headers;e.set("X-Requested-With","XMLHttpRequest"),e.set("Content-Type","application/json"),e.set("Authorization","Basic "+btoa(sessionStorage.getItem("username")+":"+sessionStorage.getItem("password"))),fetch("/campaign/getAll",{method:"GET",headers:e}).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(e){y(e),h(!1)})).catch((function(){h(!1),y([])}))}),[]);var k=function(t,a){h(!0);var n="/campaign/".concat(a,"/").concat(t),r=new Headers;r.set("X-Requested-With","XMLHttpRequest"),r.set("Content-Type","application/json"),r.set("Authorization","Basic "+btoa(sessionStorage.getItem("username")+":"+sessionStorage.getItem("password"))),fetch(n,{method:"GET",headers:r}).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(t){h(!1),e.setSnackBar({snackbar:{message:t.response,open:!0}})})).catch((function(){h(!1),e.setSnackBar({snackbar:{message:"Error while performing action",open:!0,severity:"error"}})}))},C=x-Math.min(x,S.length-d*x);return Object(Z.jsxs)("div",{className:t.root,children:[Object(Z.jsx)(fe.a,{className:t.backdrop,open:p,children:Object(Z.jsx)(ae.a,{color:"inherit"})}),Object(Z.jsxs)(W.a,{className:t.paper,children:[Object(Z.jsx)(G.a,{children:Object(Z.jsxs)(V.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(Z.jsx)(ve,{classes:t,numSelected:i.length,rowCount:S.length}),Object(Z.jsxs)(J.a,{children:[S.map((function(e,t){var a,n=(a=e.name,-1!==i.indexOf(a)),r="enhanced-table-checkbox-".concat(t);return Object(Z.jsxs)(K.a,{role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(Z.jsx)(Y.a,{component:"th",id:r,scope:"row",children:e.campaign_id}),Object(Z.jsx)(Y.a,{component:"th",id:r,scope:"row",children:e.campaign_name}),Object(Z.jsx)(Y.a,{align:"center",children:e.flow_id}),Object(Z.jsx)(Y.a,{align:"center",children:e.primary_queue}),Object(Z.jsx)(Y.a,{align:"center",children:e.status}),Object(Z.jsx)(Y.a,{align:"center",children:e.target_env}),Object(Z.jsx)(Y.a,{align:"center",children:e.updated_at}),Object(Z.jsx)(Y.a,{align:"center",children:e.wait_queue}),Object(Z.jsxs)(Y.a,{align:"center",children:[Object(Z.jsx)(O.a,{onClick:function(){return k(Se.START,e.campaign_id)},children:Object(Z.jsx)(he.a,{})}),Object(Z.jsx)(O.a,{onClick:function(){return k(Se.STOP,e.campaign_id)},children:Object(Z.jsx)(ge.a,{})}),Object(Z.jsx)(O.a,{onClick:function(){return k(Se.PAUSE,e.campaign_id)},children:Object(Z.jsx)(xe.a,{})})]})]},e.campaign_id)})),C>0&&Object(Z.jsx)(K.a,{style:{height:53*C},children:Object(Z.jsx)(Y.a,{colSpan:9})})]})]})}),Object(Z.jsx)(ue.a,{rowsPerPageOptions:[5,10,25],component:"div",count:S.length,rowsPerPage:x,page:d,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),j(0)}})]})]})})),Ce=[{path:"/CreateCampaignStepper",name:"Create Campaign",icon:Object(Z.jsx)(Q.a,{}),component:Object(Z.jsx)(le,{}),layout:"/CreateCampaignStepper"},{path:"/CampaignList",name:"Campaign List",icon:Object(Z.jsx)(je.a,{}),component:Object(Z.jsx)(ke,{}),layout:"/CampaignList"}],Ie=240,Te=Object(S.a)((function(e){return Object(y.a)({root:{display:"flex"},grow:{flexGrow:1},sectionDesktop:Object(j.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},sectionMobile:Object(j.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),appBarShift:{marginLeft:Ie,width:"calc(100% - ".concat(Ie,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Ie,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ie,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(j.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},list:{width:250},fullList:{width:"auto"}})}));var Ne=Object(o.b)((function(e){return{profile:e.login.profile,theme:e.theme.theme}}),{setUser:function(e){return{type:R,profile:e.profile}},setSnackBar:q,setTheme:function(e){return{type:_,theme:e}}})((function(e){var t,a,n=Te(),c=Object(P.f)(),i=Object(k.a)(),o=r.a.useState(!1),l=Object(s.a)(o,2),d=l[0],S=l[1],y=r.a.useState({left:!1}),T=Object(s.a)(y,2),A=(T[0],T[1],r.a.useState(null)),D=Object(s.a)(A,2);return D[0],D[1],Object(Z.jsxs)("div",{className:n.root,children:[Object(Z.jsx)(h.a,{}),Object(Z.jsx)(p.a,{position:"fixed",className:Object(F.a)(n.appBar,Object(j.a)({},n.appBarShift,d)),children:Object(Z.jsxs)(C.a,{children:[Object(Z.jsx)(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){S(!0)},edge:"start",className:Object(F.a)(n.menuButton,Object(j.a)({},n.hide,d)),children:Object(Z.jsx)(E.a,{})}),Object(Z.jsx)(I.a,{variant:"h6",noWrap:!0,children:"Dialer App"}),Object(Z.jsx)("div",{className:n.grow}),Object(Z.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("username"),sessionStorage.removeItem("password"),window.location.reload()},children:"Logout"})]})}),Object(Z.jsxs)(g.a,{variant:"permanent",className:Object(F.a)(n.drawer,(t={},Object(j.a)(t,n.drawerOpen,d),Object(j.a)(t,n.drawerClose,!d),t)),classes:{paper:Object(F.a)((a={},Object(j.a)(a,n.drawerOpen,d),Object(j.a)(a,n.drawerClose,!d),a))},children:[Object(Z.jsx)("div",{className:n.toolbar,children:Object(Z.jsx)(O.a,{onClick:function(){S(!1)},children:"rtl"===i.direction?Object(Z.jsx)(B.a,{}):Object(Z.jsx)(N.a,{})})}),Object(Z.jsx)(m.a,{}),Object(Z.jsx)(x.a,{children:Ce.map((function(e,t){return Object(Z.jsxs)(f.a,{button:!0,component:"a",onClick:function(){var t;t=e.path,c.push(t),S(!1)},children:[Object(Z.jsx)(w.a,{children:e.icon}),Object(Z.jsx)(v.a,{primary:e.name})]},e.name)}))})]}),Object(Z.jsxs)("main",{className:n.content,children:[Object(Z.jsx)("div",{className:n.toolbar}),Object(Z.jsx)(u.a,{item:!0}),Object(Z.jsxs)(P.c,{children:[Ce.map((function(e){return Object(Z.jsx)(P.a,{path:e.path,children:e.component},e.path)})),Object(Z.jsx)(P.a,{path:"/",children:Object(Z.jsx)(le,{})})]})]})]})})),Ae=a(379),Be=a(375);function De(e){return Object(Z.jsx)(Be.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Ee=Object(S.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var Fe=Object(o.b)((function(e){return Object(d.a)({},e.snackbar)}),{setSnackBar:q})((function(e){var t,a,n=Ee(),r=function(t,a){"clickaway"!==a&&e.setSnackBar({snackbar:{message:"",open:!1}})};return Object(Z.jsx)("div",{className:n.root,children:Object(Z.jsx)(Ae.a,{open:e.snackbar.open&&""!==e.snackbar.message,color:"",autoHideDuration:3e3,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(Z.jsx)(De,{onClose:r,severity:(null===(t=e.snackbar)||void 0===t?void 0:t.severity)?null===(a=e.snackbar)||void 0===a?void 0:a.severity:"success",children:e.snackbar.message})})})})),Pe=a(294),Re=a(300),Ue=a(374),_e=a(297),qe=a(296),Le=a(155),Qe=a.n(Le),ze=a(156),We=a.n(ze),He=a(154),Me=a.n(He),Xe=Object(S.a)((function(e){return Object(y.a)({root:{flexGrow:1,marginTop:"200px",display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})}));function Ge(){var e=Xe(),t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),o=Object(s.a)(i,2),l=o[0],p=o[1],h=r.a.useState({username:"",password:"",showPassword:!1}),m=Object(s.a)(h,2),g=m[0],x=m[1],f=function(e){return function(t){x(Object(d.a)(Object(d.a)({},g),{},Object(j.a)({},e,t.target.value)))}},w=function(){x(Object(d.a)(Object(d.a)({},g),{},{showPassword:!g.showPassword}))};return Object(Z.jsx)("div",{className:e.root,children:Object(Z.jsx)(u.a,{container:!0,spacing:3,justify:"center",children:Object(Z.jsx)(u.a,{item:!0,xs:8,sm:3,children:Object(Z.jsxs)(W.a,{className:e.paper,elevation:4,children:[Object(Z.jsxs)(qe.a,{className:Object(F.a)(e.margin,e.textField),error:l,children:[Object(Z.jsx)(Re.a,{htmlFor:"standard-adornment-UserName",children:"UserName"}),Object(Z.jsx)(Pe.a,{id:"standard-adornment-UserName",type:"text",value:g.username,onChange:f("username"),disabled:n,endAdornment:Object(Z.jsx)(Ue.a,{position:"end",children:Object(Z.jsx)(O.a,{color:l?"secondary":"default","aria-label":"toggle password visibility",onClick:w,style:{padding:"0"},children:Object(Z.jsx)(Me.a,{})})})})]}),Object(Z.jsxs)(qe.a,{className:Object(F.a)(e.margin,e.textField),error:l,children:[Object(Z.jsx)(Re.a,{htmlFor:"standard-adornment-password",children:"Password"}),Object(Z.jsx)(Pe.a,{id:"standard-adornment-password",type:g.showPassword?"text":"password",value:g.password,onChange:f("password"),disabled:n,endAdornment:Object(Z.jsx)(Ue.a,{position:"end",children:Object(Z.jsx)(O.a,{color:l?"secondary":"default","aria-label":"toggle password visibility",onClick:w,style:{padding:"0"},children:g.showPassword?Object(Z.jsx)(Qe.a,{onClick:w}):Object(Z.jsx)(We.a,{onClick:w})})})}),l&&Object(Z.jsx)(_e.a,{id:"my-helper-text",children:"Incorrect username or password"})]}),Object(Z.jsx)(qe.a,{className:Object(F.a)(e.margin,e.textField),children:Object(Z.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){c(!0);var e=new Headers;e.set("X-Requested-With","XMLHttpRequest"),e.set("Content-Type","application/json"),e.set("Authorization","Basic "+btoa(g.username+":"+g.password)),fetch("/user/token",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){sessionStorage.setItem("token",e.token),sessionStorage.setItem("username",g.username),sessionStorage.setItem("password",g.password),window.location.reload()})).catch((function(){c(!1),p(!0)}))},disabled:n,children:n?Object(Z.jsx)(ae.a,{color:"secondary",size:24}):"Login"})})]})})})})}var Ve=a(90),Je={profile:null},Ke={snackbar:{message:"",open:!1}},Ye={theme:{mode:"light"}},Ze=Object(Ve.a)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object.assign({},e,{profile:t.profile});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object.assign({},e,{snackbar:t.snackbar});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,{theme:t.theme});default:return e}}}),$e=Object(Ve.b)(Ze);var et=function(){var e=r.a.useState(sessionStorage.getItem("token")?sessionStorage.getItem("token"):""),t=Object(s.a)(e,2),a=t[0];return t[1],Object(Z.jsx)(o.a,{store:$e,children:Object(Z.jsx)(l.a,{children:""===a?Object(Z.jsx)(Ge,{}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Ne,{}),Object(Z.jsx)(Fe,{})]})})})},tt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,384)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(Z.jsx)(et,{}),document.getElementById("root")),tt()}},[[292,1,2]]]);
//# sourceMappingURL=main.6f124e0c.chunk.js.map